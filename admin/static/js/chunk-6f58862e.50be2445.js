(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f58862e"],{"0ee9":function(e,t,n){},c588:function(e,t,n){"use strict";var r=n("0ee9"),s=n.n(r);s.a},f525:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form"},[n("el-form",{ref:"notes",staticClass:"demo-notes",attrs:{model:e.notes,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{model:{value:e.notes.title,callback:function(t){e.$set(e.notes,"title",t)},expression:"notes.title"}})],1),n("el-form-item",{attrs:{label:"摘要",prop:"abstract"}},[n("el-input",{attrs:{type:"textarea",rows:5,resize:"none"},model:{value:e.notes.abstract,callback:function(t){e.$set(e.notes,"abstract",t)},expression:"notes.abstract"}})],1),n("el-form-item",{attrs:{label:"图片",required:""}},[n("uploadImg",{on:{fileLoad:e.fileLoad}})],1),n("el-form-item",{attrs:{label:"内容",required:""}},[n("mavon-editor",{ref:"md",staticStyle:{"min-height":"600px","z-index":"1"},on:{change:e.change},model:{value:e.notes.content,callback:function(t){e.$set(e.notes,"content",t)},expression:"notes.content"}})],1),n("el-form-item",{attrs:{label:"标签"}},[n("el-checkbox-group",{staticClass:"fll",attrs:{size:"small"},model:{value:e.notes.tags,callback:function(t){e.$set(e.notes,"tags",t)},expression:"notes.tags"}},e._l(e.lables,(function(t){return n("el-checkbox-button",{key:t.index,attrs:{label:t}},[e._v("\n          "+e._s(t.title)+"\n        ")])})),1)],1)],1),n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("notes")}}},[e._v("提交")]),n("el-button",{on:{click:function(t){return e.resetForm("notes")}}},[e._v("重置")])],1)],1)},s=[],a=(n("96cf"),n("3b8d")),o=n("9041"),i=n("b2d8"),l=(n("64e1"),{name:"write",components:{uploadImg:o["a"],mavonEditor:i["mavonEditor"]},data:function(){return{html:"",notes:{title:"",content:"",tags:[],abstract:"",coverImgUrl:""},lables:[{title:"html"},{title:"css"},{title:"h5"},{title:"js"},{title:"es6"},{title:"ajax"},{title:"vue.js"},{title:"react.js"},{title:"ui"}],rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],abstract:[{required:!0,message:"请输入摘要",trigger:"blur"}],content:[{type:"date",required:!0,message:"请输入内容",trigger:"blur"}]}}},methods:{change:function(e,t){this.html=t},submit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.notes,e.next=3,this.$fetch.api_article.addArticle(t);case 3:n=e.sent,200===n.code?alert(n.msg):400===n.code&&alert("发布失败");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fileLoad:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("file",t),e.next=4,this.$xhr.post("/article/uploadImg",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:r=e.sent,200===r.code?this.notes.coverImgUrl=r.url:400===r.code&&alert("上传失败");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()}}}),c=l,u=(n("c588"),n("2877")),m=Object(u["a"])(c,r,s,!1,null,"0e120c7f",null);t["default"]=m.exports}}]);