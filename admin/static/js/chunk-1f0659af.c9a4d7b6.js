(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f0659af"],{"25d4":function(e,t,n){},"34fb":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form"},[n("el-form",{ref:"notes",staticClass:"demo-notes",attrs:{model:e.notes,rules:e.rules,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{model:{value:e.notes.title,callback:function(t){e.$set(e.notes,"title",t)},expression:"notes.title"}})],1),n("el-form-item",{attrs:{label:"摘要",prop:"abstract"}},[n("el-input",{attrs:{type:"textarea",rows:5,resize:"none"},model:{value:e.notes.abstract,callback:function(t){e.$set(e.notes,"abstract",t)},expression:"notes.abstract"}})],1),n("el-form-item",{attrs:{label:"图片",required:""}},[n("uploadImg",{attrs:{img:e.notes.coverImgUrl},on:{fileLoad:e.fileLoad,"update:img":function(t){return e.$set(e.notes,"coverImgUrl",t)}}})],1),n("el-form-item",{attrs:{label:"内容",required:""}},[n("mavon-editor",{ref:"md",staticStyle:{"min-height":"600px","z-index":"1"},on:{change:e.change},model:{value:e.notes.content,callback:function(t){e.$set(e.notes,"content",t)},expression:"notes.content"}})],1),n("el-form-item",{attrs:{label:"标签"}},[n("el-checkbox-group",{staticClass:"fll",attrs:{size:"small"},model:{value:e.notes.tags,callback:function(t){e.$set(e.notes,"tags",t)},expression:"notes.tags"}},e._l(e.lables,(function(t){return n("el-checkbox-button",{key:t.index,attrs:{label:t.name}},[e._v("\n            "+e._s(t.name)+"\n          ")])})),1)],1)],1),n("div",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("notes")}}},[e._v("提交")]),n("el-button",{on:{click:function(t){return e.resetForm("notes")}}},[e._v("重置")])],1)],1)},r=[],a=(n("96cf"),n("3b8d")),o=n("9041"),i=n("b2d8"),l=(n("64e1"),{name:"write",components:{uploadImg:o["a"],mavonEditor:i["mavonEditor"]},data:function(){return{options:{subfield:!0,editable:!0,toolbarsFlag:!0},html:"",notes:{title:"",content:"",tags:[],abstract:"",coverImgUrl:""},lables:[{name:"html"},{name:"css"},{name:"h5"},{name:"js"},{name:"es6"},{name:"ajax"},{name:"vue.js"},{name:"react.js"},{name:"ui"}],rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],abstract:[{required:!0,message:"请输入摘要",trigger:"blur"}],content:[{type:"date",required:!0,message:"请输入内容",trigger:"blur"}]}}},methods:{change:function(e,t){this.html=t},submit:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.notes,e.next=3,this.$fetch.api_article.addArticle(t);case 3:n=e.sent,200===n.code?(this.$message({type:"success",message:n.msg||"添加成功"}),this.notes=this.$options.data()["notes"]):400===n.code&&alert("发布失败");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),fileLoad:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new FormData,n.append("file",t),e.next=4,this.$fetch.api_article.uploadImg(n);case 4:s=e.sent,200===s.code?this.notes.coverImgUrl=s.url:400===s.code&&this.$message({type:"error",message:"上传失败"});case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetForm:function(e){this.$refs[e].resetFields()}}}),c=l,u=(n("d235"),n("2877")),m=Object(u["a"])(c,s,r,!1,null,"423ad8ee",null);t["default"]=m.exports},d235:function(e,t,n){"use strict";var s=n("25d4"),r=n.n(s);r.a}}]);