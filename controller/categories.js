const {Router} = require("express");const router = Router();const categories = require('../database/model/categories')router.get('/categories', (req, res) => {  let {pn = 1, size = 10} = req.query;  categories.find()    .sort({_id: -1})    .limit(size)    .skip((pn - 1) * (size))    .limit(10)    .then(data => {      res.json({        code: 200,        data,        msg: 'success'      })    })})router.post('/categories', (req, res) => {  let {name,describe} = req.body;  categories.create({name,describe})    .then(data => {      res.json({        code: 200,        data,        msg: "添加成功"      })    })    .catch(err => {      res.json({        code: 500,        msg: "服务器错误"      })    })})router.put('/categories/:id', (req, res) => {  let {id} = req.params;  let {name,describe} = req.body;  categories.findOneAndUpdate({_id: id},    {      $set: {        name,        describe      }    })    .then(data => {      res.json({        code: 200,        data,        msg: "修改成功"      })    })    .catch(err => {      res.json({        code: 500,        msg: "服务器错误"      })    })})router.delete('/categories', (req, res) => {  let { id } = req.body;  categories.remove({_id: id})    .then(data => {      res.json({        code: 200,        data,        msg: "删除成功"      })    })    .catch(err => {      res.json({        code: 500,        msg: "服务器错误"      })    })})module.exports = router;