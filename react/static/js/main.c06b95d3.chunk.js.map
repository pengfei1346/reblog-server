{"version":3,"sources":["components/header/index.js","utils/config.js","utils/request.js","utils/utils.js","components/home/index.js","views/layout.js","components/about/index.js","components/archive/index.js","components/articles/index.js","router/index.js","components/collections/index.js","components/leavingMessage/index.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","state","fatherName","className","nextProps","nextState","nextContext","this","setState","pathname","location","to","Component","withRouter","instance","baseUrl","headers","data","timeout","withCredentials","responseType","service","axios","create","baseURL","config","interceptors","request","use","error","Promise","reject","response","code","status","success","resolve","BrowserRouter","push","message","includes","getScrollTop","Math","max","document","body","scrollTop","documentElement","getDocumentHeight","scrollHeight","getWindowHeight","compatMode","clientHeight","timestampToTime","timestamp","dayMinSecFlag","date","Date","Y","getFullYear","M","getMonth","D","getDate","h","getHours","m","getMinutes","s","getSeconds","viewHeight","window","innerHeight","home","fn","delay","last","timer","throttle","iamges","querySelectorAll","console","log","num","i","length","getBoundingClientRect","top","getAttribute","src","setAttribute","componentDidMount","addEventListener","pageScroll","getArticles","componentWillUnmount","removeEventListener","isLoadEnd","isLoading","isHidden","page","pageSize","list","total","bind","setTimeout","params","get","then","preState","map","item","id","createdAt","title","browseNum","replyNum","author","style","textIndent","abstract","data-src","coverImgUrl","alt","aria-hidden","Content","layout","pathName","indexOf","marginTop","children","Home","textAlign","paddingTop","Item","archive","getList","archiveList","v","About","windowHeight","documentHeight","routes","name","path","exact","component","about","App","r","key","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c06b95d3.chunk.js","sourcesContent":["import React, {Component} from 'react'\nimport {\n  Link,\n  withRouter\n} from 'react-router-dom'\nimport './index.scss';\n\nclass Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fatherName: this.props.className\n    }\n  }\n\n  // componentDidMount() {\n  //   // console.log(this.props);\n  //   // this.setState({\n  //   //   fatherName: this.props.className\n  //   // })\n  // }\n\n  //\n  shouldComponentUpdate(nextProps, nextState, nextContext) {\n    if(nextProps.className !== this.state.fatherName) {\n      this.setState({\n        fatherName: nextProps.className\n      })\n    }\n    return true\n  }\n\n  // componentDidUpdate(prevProps, prevState, snapshot) {\n  //   // console.log('p。revProps--', prevProps);\n  //   // if(prevState.className !== prevState.fatherName) {\n  //   //   this.setState({\n  //   //     fatherName: prevState.fatherName\n  //   //   })\n  //   // }\n  // }\n\n  render() {\n    const {pathname} = this.props.location\n\n    return (\n      <ul className={`nav ${this.state.fatherName}`}>\n        <Link to=\"/\">\n          <li className={pathname === '/' ? 'active' : ''}>首页</li>\n        </Link>\n        <Link to=\"/articles\">\n          <li className={pathname === '/articles' ? 'active' : ''}>文章</li>\n        </Link>\n        <Link to=\"/archive\">\n          <li className={pathname === '/archive' ? 'active' : ''}>归档</li>\n        </Link>\n        <Link to=\"/collections\">\n          <li className={pathname === '/collections' ? 'active' : ''}>收藏</li>\n        </Link>\n        <Link to=\"/leavingMessage\">\n          <li className={pathname === '/leavingMessage' ? 'active' : ''}>留言</li>\n        </Link>\n        <Link to=\"/about\">\n          <li className={pathname === '/about' ? 'active' : ''}>关于</li>\n        </Link>\n      </ul>\n    )\n  }\n}\n\nexport default withRouter(Header)\n","const baseUrl = process.env.NODE_ENV === \"development\"?'/dev/':'/'\n\nconst instance = {\n  // 基础url前缀\n  baseUrl: baseUrl,//请求的域名地址\n  // 请求头信息\n  headers: {\n    'Content-Type': 'application/json;charset=UTF-8'\n  },\n  // 参数\n  data: {},\n  // 设置超时时间\n  timeout: 10000,\n  // 携带凭证\n  withCredentials: false,\n  // 返回数据类型\n  responseType: 'json'\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default instance\n","import axios from 'axios'\n// import { message } from 'antd'\nimport config from './config'\nimport { BrowserRouter } from 'react-router-dom'\n\n\nconst service = axios.create({\n    baseURL: config.baseUrl,\n    timeout: 60000,\n    withCredentials: true\n})\n\n//请求拦截器\nservice.interceptors.request.use(\n    config => {\n        return config\n    },\n    error => {\n        return Promise.reject(error)\n    }\n)\n//响应拦截器\nservice.interceptors.response.use(\n    response => {\n        // if (loading) {\n        //   loading.close()\n        // }\n        const code = response.status\n        if ((code >= 200 && code < 300) || code === 304) {\n            if (!response.data.success) {\n              // message.error(response.data.message || 'Error')\n            }\n            return Promise.resolve(response.data)\n        } else {\n            return Promise.reject(response)\n        }\n    },\n    error => {\n        // if (loading) {\n        //   loading.close()\n        // }\n        if (error.response) {\n            switch (error.response.status) {\n                case 400:\n                    // message.error('请求出错，请稍后重试')\n                    break\n                case 401:\n                    // 返回401 清除token信息并跳转到登陆页面\n                    BrowserRouter.push( '/')\n                    break\n                case 404:\n                    // message.error('网络请求不存在')\n                    break\n                case 500:\n                    // message.error('服务器错误')\n                    break\n                default:\n                    // message.error(error.response.data.message)\n            }\n        } else {\n            // 请求超时或者网络有问题\n            if (error.message.includes('timeout')) {\n                // message.error('请求超时！请检查网络是否正常')\n            } else {\n                // message.error('请求失败，请检查网络是否已连接')\n            }\n        }\n        return Promise.reject(error)\n    }\n)\n\nexport default service\n","// fn是我们需要包装的事件回调, delay是时间间隔的阈值\nexport function throttle(fn, delay) {\n  // last为上一次触发回调的时间, timer是定时器\n  let last = 0,\n    timer = null;\n  // 将throttle处理结果当作函数返回\n\n  return function() {\n    // 保留调用时的this上下文\n    let context = this;\n    // 保留调用时传入的参数\n    let args = arguments;\n    // 记录本次触发回调的时间\n    let now = +new Date();\n\n    // 判断上次触发的时间和本次触发的时间差是否小于时间间隔的阈值\n    if (now - last < delay) {\n      // 如果时间间隔小于我们设定的时间间隔阈值，则为本次触发操作设立一个新的定时器\n      clearTimeout(timer);\n      timer = setTimeout(function() {\n        last = now;\n        fn.apply(context, args);\n      }, delay);\n    } else {\n      // 如果时间间隔超出了我们设定的时间间隔阈值，那就不等了，无论如何要反馈给用户一次响应\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}\n\nexport function setCookie(cName, value, expiredays) {\n  if (expiredays > 0 && expiredays !== '100') {\n    let exdate = new Date();\n    exdate.setDate(exdate.getDate() + expiredays);\n    document.cookie =\n      cName +\n      '=' +\n      escape(value) +\n      (expiredays == null ? '' : ';expires=' + exdate.toGMTString());\n  }\n  if (expiredays === '100') {\n    let exdate = new Date('2118-01-01 00:00:00');\n    document.cookie =\n      cName +\n      '=' +\n      escape(value) +\n      (expiredays == null ? '' : ';expires=' + exdate.toGMTString());\n  }\n}\nexport function getCookie(cName) {\n  if (document.cookie.length > 0) {\n    let cStart = document.cookie.indexOf(cName + '=');\n    if (cStart !== -1) {\n      cStart = cStart + cName.length + 1;\n      let cEnd = document.cookie.indexOf(';', cStart);\n      if (cEnd === -1) cEnd = document.cookie.length;\n      return unescape(document.cookie.substring(cStart, cEnd));\n    }\n  }\n  return '';\n}\n\nexport function delCookie(name) {\n  let exp = new Date();\n  exp.setTime(exp.getTime() - 1);\n  let cval = getCookie(name);\n  if (cval != null)\n    document.cookie = name + '=' + cval + ';expires=' + exp.toGMTString();\n}\n\n//清除cookie\nexport function clearCookie(name) {\n  setCookie(name, '', -1);\n}\n\n//获取QueryString的数组\nexport function getQueryString() {\n  let result = window.location.search.match(\n    new RegExp('[?&][^?&]+=[^?&]+', 'g'),\n  );\n  if (result == null) {\n    return '';\n  }\n  for (let i = 0; i < result.length; i++) {\n    result[i] = result[i].substring(1);\n  }\n  return result;\n}\n//根据 QueryString 参数名称获取值\nexport function getQueryStringByName(name) {\n  let result = window.location.search.match(\n    new RegExp('[?&]' + name + '=([^&]+)', 'i'),\n  );\n  if (result == null || result.length < 1) {\n    return '';\n  }\n  return result[1];\n}\n//获取页面顶部被卷起来的高度\nexport function getScrollTop() {\n  return Math.max(\n    //chrome\n    document.body.scrollTop,\n    //firefox/IE\n    document.documentElement.scrollTop,\n  );\n}\n//获取页面文档的总高度\nexport function getDocumentHeight() {\n  //现代浏览器（IE9+和其他浏览器）和IE8的document.body.scrollHeight和document.documentElement.scrollHeight都可以\n  return Math.max(\n    document.body.scrollHeight,\n    document.documentElement.scrollHeight,\n  );\n}\n//页面浏览器视口的高度\nexport function getWindowHeight() {\n  return document.compatMode === 'CSS1Compat'\n    ? document.documentElement.clientHeight\n    : document.body.clientHeight;\n}\n//// 时间 格式化成 2018-12-12 12:12:00\nexport function timestampToTime(timestamp, dayMinSecFlag) {\n  const date = new Date(timestamp);\n  const Y = date.getFullYear() + '-';\n  const M =\n    (date.getMonth() + 1 < 10\n      ? '0' + (date.getMonth() + 1)\n      : date.getMonth() + 1) + '-';\n  const D =\n    date.getDate() < 10 ? '0' + date.getDate() + ' ' : date.getDate() + ' ';\n  const h =\n    date.getHours() < 10 ? '0' + date.getHours() + ':' : date.getHours() + ':';\n  const m =\n    date.getMinutes() < 10\n      ? '0' + date.getMinutes() + ':'\n      : date.getMinutes() + ':';\n  const s =\n    date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n  if (!dayMinSecFlag) {\n    return Y + M + D;\n  }\n  return Y + M + D + h + m + s;\n}\n\n//判断是移动端还是 pc 端 ，true 表示是移动端，false 表示是 pc 端\nexport function isMobileOrPc() {\n  if (/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {\n    return true;\n  } else {\n    return false;\n  }\n}\n","import React,{\n  Component,\n  // useState\n}from 'react'\nimport Header from \"../header/index\";\nimport request from '../../utils/request';\nimport './index.scss'\nimport {\n  throttle,\n  getScrollTop,\n  getDocumentHeight,\n  getWindowHeight,\n  // getQueryStringByName,\n  timestampToTime,\n} from '../../utils/utils';\n\n// 获取可视区域的高度\nconst viewHeight = window.innerHeight || document.documentElement.clientHeight;\n// 用新的 throttle 包装 scroll 的回调\n\n// eslint-disable-next-line no-unused-vars\nconst lazyLoad = throttle(() => {\n  // 获取所有的图片标签\n  const iamges = document.querySelectorAll('#list img');\n  console.log(iamges);\n  // num 用于统计当前显示到了哪一张图片，避免每次都从第一张图片开始检查是否露出\n  let num = 0;\n  for (let i = num; i < iamges.length; i++) {\n    // 用可视区域高度减去元素顶部距离可视区域顶部的高度\n    let distance = viewHeight - iamges[i].getBoundingClientRect().top;\n    // 如果可视区域高度大于等于元素顶部距离可视区域顶部的高度，说明元素露出\n    if (distance >= 100) {\n      // 给元素写入真实的 src，展示图片\n      let hasLaySrc = iamges[i].getAttribute('data-has-lazy-src');\n      if (hasLaySrc === 'false') {\n        iamges[i].src = iamges[i].getAttribute('data-src');\n        iamges[i].setAttribute('data-has-lazy-src', true);\n      }\n      // 前 i 张图片已经加载完毕，下次从第 i+1 张开始检查是否露出\n      num = i + 1;\n    }\n  }\n}, 1000);\n\nclass home extends Component{\n  constructor(props) {\n    super(props);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    // const [count, setCount] = useState(0);\n    this.state = {\n      isLoadEnd: false,\n      isLoading: false,\n      isHidden: true,\n      page: 1,\n      pageSize: 10,\n      list: [],\n      total: 0\n    };\n    this.getArticles = this.getArticles.bind(this);\n    this.pageScroll = this.pageScroll.bind(this)\n  }\n\n  componentDidMount = () => {\n    window.addEventListener('scroll',this.pageScroll);\n    this.getArticles()\n  };\n\n  componentWillUnmount = () => {\n    window.removeEventListener('scroll',this.pageScroll)\n  };\n\n  pageScroll() {\n    let isHidden = getScrollTop() === 0;\n    if(isHidden !== this.state.isHidden) {\n      this.setState({\n        isHidden: isHidden\n      });\n    }\n\n    setTimeout(() => {\n      if (getScrollTop() + getWindowHeight() > getDocumentHeight() - 100) {\n        // 如果不是已经没有数据了，都可以继续滚动加载\n        if (this.state.isLoadEnd === false && this.state.isLoading === false) {\n          let page = this.state.page + 1;\n          this.setState({\n            page: page\n          });\n          this.getArticles();\n        }\n      }\n    },500)\n  }\n\n  getArticles() {\n    this.setState({\n      isLoading: true,\n    });\n    let params = {\n      page: this.state.page,\n      pageSize: this.state.pageSize\n    };\n    request.get('/article',{params:params}).then(data =>{\n      this.setState(preState => ({\n        list: [...preState.list, ...data.data],\n        total: data.total,\n        isLoading: false,\n      }));\n\n      if(this.state.list.length >= data.total) {\n        this.setState({\n          isLoadEnd: true\n        })\n      }\n\n    })\n  }\n\n  render() {\n\n    const list = this.state.list.map((item,i) => (\n      <li className=\"article\" id=\"list\" key={i}>\n        <div className={`article-left border-shadow ${i%2 !== 0? 'left' : 'right'}`}>\n          <div className=\"detail-content\">\n            <div className=\"detail-publish\">\n              <i className=\"iconfont icon-shijian2\"/>\n              {item.createdAt?timestampToTime(item.createdAt,true):''}\n            </div>\n            <div className=\"detail-title\">{item.title}</div>\n            <div className=\"detail-meta\">\n              <div className=\"meta-box\"><i className=\"iconfont icon-yanjing\"/>{item.browseNum}</div>\n              <div className=\"meta-box\"><i className=\"iconfont icon-huifu\"/>{item.replyNum}</div>\n              <div className=\"meta-box\"><i className=\"iconfont icon-zuozhe\"/>{item.author}</div>\n            </div>\n            <div className=\"detail-abstract\">\n              <p>摘要：</p>\n              <p style={{textIndent: '2em'}}>{item.abstract}</p>\n            </div>\n            <div className=\"detail-edit\">\n              <div><i className=\"iconfont icon-shenglvehao\"/></div>\n            </div>\n          </div>\n        </div>\n\n        <div className={`article-right border-shadow ${i%2 === 0? 'left' : 'right'}`}>\n          <img className=\"cover-img\" data-src={item.coverImgUrl} src={item.coverImgUrl} alt=\"图片\"/>\n        </div>\n\n      </li>\n    ))\n\n    return (\n      <div className=\"home\">\n        <Header className={this.state.isHidden? 'hidden': 'show'}/>\n\n        <div className=\"bg-box\" />\n\n        <div className=\"main\">\n          <div className=\"operate\">\n            <div className=\"hello\"/>\n            <div className=\"header-top\">\n              <i className=\"iconfont icon-iconfonticonfonti2\" aria-hidden=\"true\" />\n            </div>\n          </div>\n\n          <div className=\"wave\">\n            <div id=\"banner_wave_1\"/>\n            <div id=\"banner_wave_2\"/>\n          </div>\n\n          <ul className=\"article-list\">\n            {/*<li className=\"article\">*/}\n            {/*  qe1*/}\n            {/*</li>*/}\n            {list}\n          </ul>\n        </div>\n\n      </div>\n    )\n  }\n}\n\nexport default home\n","import React, {Component} from 'react'\nimport {Layout} from 'antd';\nimport BaseHeader from '../components/header'\nimport Index from '../components/home/index';\nimport './index.scss'\n\nconst {\n  // Footer,\n  Content\n} = Layout;\n\nclass layout extends Component {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const whiteList = ['/'];\n    let pathName = this.props.location.pathname;\n\n    const isShowHeader = whiteList.indexOf(pathName) === -1;\n\n    if (isShowHeader) {\n      return (\n        <div className=\"main-body\">\n          <BaseHeader/>\n\n          <Content style={{marginTop: '70px'}}>\n            {this.props.children}\n          </Content>\n\n          {/*<Footer>Footer</Footer>*/}\n        </div>\n      )\n    } else {\n      return (\n        <Index/>\n      )\n    }\n  }\n}\n\nexport default layout\n","const Home = () => (\n  <div>\n    <h2 style={{textAlign: 'center',paddingTop: '40px'}}>建设中...</h2>\n  </div>\n)\n\nexport default Home\n","import React, {Component} from 'react'\nimport './index.scss'\nimport {Timeline} from 'antd';\nimport {\n  timestampToTime,\n} from '../../utils/utils';\nimport request from \"../../utils/request\";\n\nconst Item = (props) => {\n  const rList = props.data.list.map((item,i)=>{\n    return (\n      <Timeline.Item key={i}>\n        <p>{item.title}</p>\n        <p>{timestampToTime(item.createdAt)}</p>\n      </Timeline.Item>\n    )\n  })\n\n  return (\n    rList\n  )\n}\n\nclass archive extends Component {\n  // eslint-disable-next-line no-useless-constructor\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      isHidden: true,\n      list: []\n    }\n    this.getList = this.getList.bind(this)\n  }\n\n  componentDidMount() {\n    this.getList()\n  }\n\n  getList() {\n    this.setState({\n      isLoading: true,\n    });\n    request.get('/article/year').then(data => {\n      this.setState(preState => ({\n        list: data.archiveList,\n        isLoading: false,\n      }));\n    })\n  }\n\n  render() {\n\n    return (\n      <div className=\"archive\">\n        {\n          this.state.list.map((v, i) => {\n              // 调用子组件 循环的也是子组件\n              return (\n                <Timeline key={i}>\n                  <Item data={v} />\n                </Timeline>\n              )\n            }\n          )\n        }\n      </div>\n    )\n  }\n}\n\n\nexport default archive\n\n","import React, {Component} from 'react'\nimport request from \"../../utils/request\";\nimport {\n  getScrollTop,\n  getDocumentHeight,\n  getWindowHeight,\n  // getQueryStringByName,\n  timestampToTime,\n} from '../../utils/utils';\nimport './index.scss'\n\nclass About extends Component {\n  constructor(props) {\n    super(props);\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    // const [count, setCount] = useState(0);\n    this.state = {\n      isLoadEnd: false,\n      isLoading: false,\n      isHidden: true,\n      page: 1,\n      pageSize: 10,\n      list: [],\n      total: 0\n    }\n    this.getArticles = this.getArticles.bind(this)\n    this.pageScroll = this.pageScroll.bind(this)\n  }\n\n  componentDidMount() {\n    window.addEventListener('scroll',this.pageScroll)\n    this.getArticles()\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll',this.pageScroll)\n  }\n\n  pageScroll() {\n    let scrollTop = getScrollTop()\n    let windowHeight = getWindowHeight()\n    let documentHeight = getDocumentHeight()\n    setTimeout(() => {\n      if (scrollTop + windowHeight > documentHeight - 100) {\n        // 如果不是已经没有数据了，都可以继续滚动加载\n        if (this.state.isLoadEnd === false && this.state.isLoading === false) {\n          let page = this.state.page + 1\n          this.setState({\n            page: page\n          });\n          this.getArticles();\n        }\n      }\n    }, 500)\n  }\n\n  getArticles() {\n    this.setState({\n      isLoading: true,\n    });\n    let params = {\n      page: this.state.page,\n      pageSize: this.state.pageSize\n    }\n    request.get('/article', {params: params}).then(data => {\n      this.setState(preState => ({\n        list: [...preState.list, ...data.data],\n        total: data.total,\n        isLoading: false,\n      }));\n\n      if (this.state.list.length >= data.total) {\n        this.setState({\n          isLoadEnd: true\n        })\n      }\n\n    })\n  }\n\n// @click=\"handleToDetail(item._id)\"\n  render() {\n\n    const list = this.state.list.map((item,i) => (\n      <li key={i}>\n        <div className=\"article-top\">\n          <div className=\"feature-body\">\n            <img src={item.coverImgUrl} className=\"feature-img\" alt=\"封面\"/>\n          </div>\n\n          <div className=\"article-body\">\n            <div className=\"top-title\">\n              <div>{item.title}</div>\n              <div>发布于 {item.createdAt ? timestampToTime(item.createdAt, true) : ''}</div>\n            </div>\n            <p>\n              {item.abstract}\n              <span>...</span>\n            </p>\n\n            <div className=\"item-bottom\">\n              <div className=\"detail-meta\">\n                <div className=\"meta-box\"><i className=\"iconfont icon-yanjing\"></i>{item.browseNum}</div>\n                <div className=\"meta-box\"><i className=\"iconfont icon-huifu\"></i>{item.replyNum}</div>\n                <div className=\"meta-box\"><i className=\"iconfont icon-zuozhe\"></i>{item.author}</div>\n              </div>\n              <div className=\"item-foot\">...</div>\n            </div>\n          </div>\n        </div>\n      </li>\n    ))\n\n    return (\n      <div className=\"article\">\n\n        <div className=\"article-main\">\n\n          <ul className=\"article-list\">\n\n            {list}\n\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default About\n","// import loadable from '@loadable/component'\nimport home from '../components/home'\nimport about from '../components/about'\nimport archive from '../components/archive'\nimport articles from '../components/articles'\nimport collections from '../components/collections'\nimport leavingMessage from '../components/leavingMessage'\n\n// const loadingComponent = ({ error, pastDelay }) => {\n//   if (error) {\n//     return <div>Error!</div>;\n//   } else if (pastDelay) {\n//     // return <div>Loading...</div>;\n//     return <div />;\n//   } else {\n//     return null;\n//   }\n// };\n\nconst routes = [\n  {\n    name: '/',\n    path: '/',\n    exact: true,\n    component: home\n  },\n  {\n    name: '/about',\n    path: '/about',\n    exact: true,\n    component: about\n  },\n  {\n    name: '/archive',\n    path: '/archive',\n    exact: true,\n    component: archive\n  },\n  {\n    name: '/articles',\n    path: '/articles',\n    exact: true,\n    component: articles\n  },\n  {\n    name: '/collections',\n    path: '/collections',\n    exact: true,\n    component: collections\n  },\n  {\n    name: '/leavingMessage',\n    path: '/leavingMessage',\n    exact: true,\n    component: leavingMessage\n    // component: loadable(() => import(`./src/components/archive`),300)\n  },\n]\n\nexport default routes;\n","const Home = () => (\n  <div>\n    <h2 style={{textAlign: 'center',paddingTop: '40px'}}>建设中...</h2>\n  </div>\n)\n\nexport default Home\n","const Home = () => (\n  <div>\n    <h2 style={{textAlign: 'center',paddingTop: '40px'}}>建设中...</h2>\n  </div>\n)\n\nexport default Home\n","import React,{Component} from 'react'\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom'\nimport BaseLayout from './views/layout'\nimport routes from './router/index'\nimport './App.css'\nimport 'normalize.css'\n\nclass App extends Component{\n\n  render() {\n\n    return(\n      <Router>\n        <Switch>\n          <BaseLayout>\n            {routes.map((r, key) => (\n              <Route\n                component={r.component}\n                exact={!!r.exact}\n                key={key}\n                path={r.path}\n              />\n            ))}\n          </BaseLayout>\n        </Switch>\n      </Router>\n    )\n  }\n}\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}