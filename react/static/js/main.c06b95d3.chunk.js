(this["webpackJsonplern-1"]=this["webpackJsonplern-1"]||[]).push([[0],{64:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){},96:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),s=c.n(n),i=c(42),r=c.n(i),l=c(9),o=c(10),d=c(12),j=c(11),u=c(14),h=c(4),b=(c(62),c(53)),m=(c(64),function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(l.a)(this,c),(a=t.call(this,e)).state={fatherName:a.props.className},a}return Object(o.a)(c,[{key:"shouldComponentUpdate",value:function(e,t,c){return e.className!==this.state.fatherName&&this.setState({fatherName:e.className}),!0}},{key:"render",value:function(){var e=this.props.location.pathname;return Object(a.jsxs)("ul",{className:"nav ".concat(this.state.fatherName),children:[Object(a.jsx)(u.b,{to:"/",children:Object(a.jsx)("li",{className:"/"===e?"active":"",children:"\u9996\u9875"})}),Object(a.jsx)(u.b,{to:"/articles",children:Object(a.jsx)("li",{className:"/articles"===e?"active":"",children:"\u6587\u7ae0"})}),Object(a.jsx)(u.b,{to:"/archive",children:Object(a.jsx)("li",{className:"/archive"===e?"active":"",children:"\u5f52\u6863"})}),Object(a.jsx)(u.b,{to:"/collections",children:Object(a.jsx)("li",{className:"/collections"===e?"active":"",children:"\u6536\u85cf"})}),Object(a.jsx)(u.b,{to:"/leavingMessage",children:Object(a.jsx)("li",{className:"/leavingMessage"===e?"active":"",children:"\u7559\u8a00"})}),Object(a.jsx)(u.b,{to:"/about",children:Object(a.jsx)("li",{className:"/about"===e?"active":"",children:"\u5173\u4e8e"})})]})}}]),c}(n.Component)),O=Object(h.f)(m),g=c(21),p=c(15),v=c(44),x={baseUrl:"/",headers:{"Content-Type":"application/json;charset=UTF-8"},data:{},timeout:1e4,withCredentials:!1,responseType:"json"},f=c.n(v).a.create({baseURL:x.baseUrl,timeout:6e4,withCredentials:!0});f.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),f.interceptors.response.use((function(e){var t=e.status;return t>=200&&t<300||304===t?(e.data.success,Promise.resolve(e.data)):Promise.reject(e)}),(function(e){if(e.response)switch(e.response.status){case 400:break;case 401:u.a.push("/")}else e.message.includes("timeout");return Promise.reject(e)}));var N=f;c(88);function y(){return Math.max(document.body.scrollTop,document.documentElement.scrollTop)}function S(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}function L(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function w(e,t){var c=new Date(e),a=c.getFullYear()+"-",n=(c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1)+"-",s=c.getDate()<10?"0"+c.getDate()+" ":c.getDate()+" ",i=c.getHours()<10?"0"+c.getHours()+":":c.getHours()+":",r=c.getMinutes()<10?"0"+c.getMinutes()+":":c.getMinutes()+":",l=c.getSeconds()<10?"0"+c.getSeconds():c.getSeconds();return t?a+n+s+i+r+l:a+n+s}var A=window.innerHeight||document.documentElement.clientHeight,k=(function(e,t){var c=0,a=null}((function(){var e=document.querySelectorAll("#list img");console.log(e);for(var t=0,c=t;c<e.length;c++){if(A-e[c].getBoundingClientRect().top>=100)"false"===e[c].getAttribute("data-has-lazy-src")&&(e[c].src=e[c].getAttribute("data-src"),e[c].setAttribute("data-has-lazy-src",!0)),t=c+1}}),1e3),function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(l.a)(this,c),(a=t.call(this,e)).componentDidMount=function(){window.addEventListener("scroll",a.pageScroll),a.getArticles()},a.componentWillUnmount=function(){window.removeEventListener("scroll",a.pageScroll)},a.state={isLoadEnd:!1,isLoading:!1,isHidden:!0,page:1,pageSize:10,list:[],total:0},a.getArticles=a.getArticles.bind(Object(p.a)(a)),a.pageScroll=a.pageScroll.bind(Object(p.a)(a)),a}return Object(o.a)(c,[{key:"pageScroll",value:function(){var e=this,t=0===y();t!==this.state.isHidden&&this.setState({isHidden:t}),setTimeout((function(){if(y()+L()>S()-100&&!1===e.state.isLoadEnd&&!1===e.state.isLoading){var t=e.state.page+1;e.setState({page:t}),e.getArticles()}}),500)}},{key:"getArticles",value:function(){var e=this;this.setState({isLoading:!0});var t={page:this.state.page,pageSize:this.state.pageSize};N.get("/article",{params:t}).then((function(t){e.setState((function(e){return{list:[].concat(Object(g.a)(e.list),Object(g.a)(t.data)),total:t.total,isLoading:!1}})),e.state.list.length>=t.total&&e.setState({isLoadEnd:!0})}))}},{key:"render",value:function(){var e=this.state.list.map((function(e,t){return Object(a.jsxs)("li",{className:"article",id:"list",children:[Object(a.jsx)("div",{className:"article-left border-shadow ".concat(t%2!==0?"left":"right"),children:Object(a.jsxs)("div",{className:"detail-content",children:[Object(a.jsxs)("div",{className:"detail-publish",children:[Object(a.jsx)("i",{className:"iconfont icon-shijian2"}),e.createdAt?w(e.createdAt,!0):""]}),Object(a.jsx)("div",{className:"detail-title",children:e.title}),Object(a.jsxs)("div",{className:"detail-meta",children:[Object(a.jsxs)("div",{className:"meta-box",children:[Object(a.jsx)("i",{className:"iconfont icon-yanjing"}),e.browseNum]}),Object(a.jsxs)("div",{className:"meta-box",children:[Object(a.jsx)("i",{className:"iconfont icon-huifu"}),e.replyNum]}),Object(a.jsxs)("div",{className:"meta-box",children:[Object(a.jsx)("i",{className:"iconfont icon-zuozhe"}),e.author]})]}),Object(a.jsxs)("div",{className:"detail-abstract",children:[Object(a.jsx)("p",{children:"\u6458\u8981\uff1a"}),Object(a.jsx)("p",{style:{textIndent:"2em"},children:e.abstract})]}),Object(a.jsx)("div",{className:"detail-edit",children:Object(a.jsx)("div",{children:Object(a.jsx)("i",{className:"iconfont icon-shenglvehao"})})})]})}),Object(a.jsx)("div",{className:"article-right border-shadow ".concat(t%2===0?"left":"right"),children:Object(a.jsx)("img",{className:"cover-img","data-src":e.coverImgUrl,src:e.coverImgUrl,alt:"\u56fe\u7247"})})]},t)}));return Object(a.jsxs)("div",{className:"home",children:[Object(a.jsx)(O,{className:this.state.isHidden?"hidden":"show"}),Object(a.jsx)("div",{className:"bg-box"}),Object(a.jsxs)("div",{className:"main",children:[Object(a.jsxs)("div",{className:"operate",children:[Object(a.jsx)("div",{className:"hello"}),Object(a.jsx)("div",{className:"header-top",children:Object(a.jsx)("i",{className:"iconfont icon-iconfonticonfonti2","aria-hidden":"true"})})]}),Object(a.jsxs)("div",{className:"wave",children:[Object(a.jsx)("div",{id:"banner_wave_1"}),Object(a.jsx)("div",{id:"banner_wave_2"})]}),Object(a.jsx)("ul",{className:"article-list",children:e})]})]})}}]),c}(n.Component)),C=(c(89),b.a.Content),M=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(e){return Object(l.a)(this,c),t.call(this,e)}return Object(o.a)(c,[{key:"render",value:function(){var e=this.props.location.pathname;return-1===["/"].indexOf(e)?Object(a.jsxs)("div",{className:"main-body",children:[Object(a.jsx)(O,{}),Object(a.jsx)(C,{style:{marginTop:"70px"},children:this.props.children})]}):Object(a.jsx)(k,{})}}]),c}(n.Component),E=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h2",{style:{textAlign:"center",paddingTop:"40px"},children:"\u5efa\u8bbe\u4e2d..."})})},H=(c(90),c(31)),T=(c(92),function(e){return e.data.list.map((function(e,t){return Object(a.jsxs)(H.a.Item,{children:[Object(a.jsx)("p",{children:e.title}),Object(a.jsx)("p",{children:w(e.createdAt)})]},t)}))}),z=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(l.a)(this,c),(a=t.call(this,e)).state={isLoading:!1,isHidden:!0,list:[]},a.getList=a.getList.bind(Object(p.a)(a)),a}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.getList()}},{key:"getList",value:function(){var e=this;this.setState({isLoading:!0}),N.get("/article/year").then((function(t){e.setState((function(e){return{list:t.archiveList,isLoading:!1}}))}))}},{key:"render",value:function(){return Object(a.jsx)("div",{className:"archive",children:this.state.list.map((function(e,t){return Object(a.jsx)(H.a,{children:Object(a.jsx)(T,{data:e})},t)}))})}}]),c}(n.Component),U=(c(93),function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(e){var a;return Object(l.a)(this,c),(a=t.call(this,e)).state={isLoadEnd:!1,isLoading:!1,isHidden:!0,page:1,pageSize:10,list:[],total:0},a.getArticles=a.getArticles.bind(Object(p.a)(a)),a.pageScroll=a.pageScroll.bind(Object(p.a)(a)),a}return Object(o.a)(c,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.pageScroll),this.getArticles()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.pageScroll)}},{key:"pageScroll",value:function(){var e=this,t=y(),c=L(),a=S();setTimeout((function(){if(t+c>a-100&&!1===e.state.isLoadEnd&&!1===e.state.isLoading){var n=e.state.page+1;e.setState({page:n}),e.getArticles()}}),500)}},{key:"getArticles",value:function(){var e=this;this.setState({isLoading:!0});var t={page:this.state.page,pageSize:this.state.pageSize};N.get("/article",{params:t}).then((function(t){e.setState((function(e){return{list:[].concat(Object(g.a)(e.list),Object(g.a)(t.data)),total:t.total,isLoading:!1}})),e.state.list.length>=t.total&&e.setState({isLoadEnd:!0})}))}},{key:"render",value:function(){var e=this.state.list.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsxs)("div",{className:"article-top",children:[Object(a.jsx)("div",{className:"feature-body",children:Object(a.jsx)("img",{src:e.coverImgUrl,className:"feature-img",alt:"\u5c01\u9762"})}),Object(a.jsxs)("div",{className:"article-body",children:[Object(a.jsxs)("div",{className:"top-title",children:[Object(a.jsx)("div",{children:e.title}),Object(a.jsxs)("div",{children:["\u53d1\u5e03\u4e8e ",e.createdAt?w(e.createdAt,!0):""]})]}),Object(a.jsxs)("p",{children:[e.abstract,Object(a.jsx)("span",{children:"..."})]}),Object(a.jsxs)("div",{className:"item-bottom",children:[Object(a.jsxs)("div",{className:"detail-meta",children:[Object(a.jsxs)("div",{className:"meta-box",children:[Object(a.jsx)("i",{className:"iconfont icon-yanjing"}),e.browseNum]}),Object(a.jsxs)("div",{className:"meta-box",children:[Object(a.jsx)("i",{className:"iconfont icon-huifu"}),e.replyNum]}),Object(a.jsxs)("div",{className:"meta-box",children:[Object(a.jsx)("i",{className:"iconfont icon-zuozhe"}),e.author]})]}),Object(a.jsx)("div",{className:"item-foot",children:"..."})]})]})]})},t)}));return Object(a.jsx)("div",{className:"article",children:Object(a.jsx)("div",{className:"article-main",children:Object(a.jsx)("ul",{className:"article-list",children:e})})})}}]),c}(n.Component)),D=[{name:"/",path:"/",exact:!0,component:k},{name:"/about",path:"/about",exact:!0,component:E},{name:"/archive",path:"/archive",exact:!0,component:z},{name:"/articles",path:"/articles",exact:!0,component:U},{name:"/collections",path:"/collections",exact:!0,component:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h2",{style:{textAlign:"center",paddingTop:"40px"},children:"\u5efa\u8bbe\u4e2d..."})})}},{name:"/leavingMessage",path:"/leavingMessage",exact:!0,component:function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h2",{style:{textAlign:"center",paddingTop:"40px"},children:"\u5efa\u8bbe\u4e2d..."})})}}],I=(c(94),c(95),function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(){return Object(l.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(a.jsx)(u.a,{children:Object(a.jsx)(h.c,{children:Object(a.jsx)(M,{children:D.map((function(e,t){return Object(a.jsx)(h.a,{component:e.component,exact:!!e.exact,path:e.path},t)}))})})})}}]),c}(n.Component)),F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,99)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(I,{})}),document.getElementById("root")),F()}},[[96,1,2]]]);
//# sourceMappingURL=main.c06b95d3.chunk.js.map